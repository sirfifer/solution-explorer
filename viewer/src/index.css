@import "tailwindcss";
@import "@xyflow/react/dist/style.css";

/* Custom theme for React Flow */
:root {
  --xy-background-color: transparent;
  --xy-node-border-radius: 12px;
}

/* Smooth transitions */
* {
  @apply transition-colors duration-150;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  @apply bg-zinc-700 rounded-full;
}
::-webkit-scrollbar-thumb:hover {
  @apply bg-zinc-600;
}

/* Code preview styling */
.code-preview {
  font-family: "SF Mono", "Fira Code", "JetBrains Mono", "Cascadia Code", monospace;
  font-size: 12px;
  line-height: 1.5;
  tab-size: 4;
}

/* React Flow customizations */
.react-flow__node {
  cursor: pointer !important;
}

.react-flow__edge-path {
  stroke-width: 2;
}

.react-flow__controls {
  @apply bg-zinc-800/90 border-zinc-700 rounded-xl overflow-hidden shadow-xl backdrop-blur-sm;
}

.react-flow__controls button {
  @apply bg-transparent border-zinc-700 text-zinc-300 hover:bg-zinc-700;
}

.react-flow__controls button svg {
  fill: currentColor;
}

.react-flow__minimap {
  @apply bg-zinc-900/80 border-zinc-700 rounded-xl overflow-hidden shadow-xl backdrop-blur-sm;
}

.react-flow__attribution {
  display: none;
}

/* Glow effect for selected nodes */
.node-selected {
  box-shadow: 0 0 0 2px theme("colors.blue.500"),
    0 0 20px theme("colors.blue.500/30");
}

/* Pulse animation for active connections */
@keyframes pulse-edge {
  0%,
  100% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .react-flow__controls {
    @apply scale-90 origin-bottom-left;
  }
}

/* Light mode overrides */
.light {
  --xy-background-color: transparent;
}

.light ::-webkit-scrollbar-thumb {
  @apply bg-zinc-300;
}

.light ::-webkit-scrollbar-thumb:hover {
  @apply bg-zinc-400;
}

.light .react-flow__controls {
  @apply bg-white/90 border-zinc-200;
}

.light .react-flow__controls button {
  @apply bg-transparent border-zinc-200 text-zinc-700 hover:bg-zinc-100;
}

.light .react-flow__minimap {
  @apply bg-white/80 border-zinc-200;
}

/* Markdown renderer styles - Dark */
.markdown-dark .md-h1 { @apply text-xl font-bold text-zinc-100 mt-4 mb-2; }
.markdown-dark .md-h2 { @apply text-lg font-bold text-zinc-200 mt-3 mb-2; }
.markdown-dark .md-h3 { @apply text-base font-semibold text-zinc-200 mt-3 mb-1; }
.markdown-dark .md-h4 { @apply text-sm font-semibold text-zinc-300 mt-2 mb-1; }
.markdown-dark .md-h5, .markdown-dark .md-h6 { @apply text-xs font-semibold text-zinc-400 mt-2 mb-1; }
.markdown-dark .md-p { @apply text-sm text-zinc-400 leading-relaxed mb-2; }
.markdown-dark .md-inline-code { @apply px-1 py-0.5 rounded bg-zinc-800 text-blue-300 text-xs font-mono; }
.markdown-dark .md-code-block { @apply p-3 rounded-lg bg-zinc-900 text-zinc-300 text-xs font-mono overflow-x-auto mb-3 border border-zinc-800; }
.markdown-dark .md-link { @apply text-blue-400 underline hover:text-blue-300; }
.markdown-dark .md-blockquote { @apply border-l-2 border-zinc-600 pl-3 py-1 my-2 text-sm text-zinc-500 italic; }
.markdown-dark .md-ul, .markdown-dark .md-ol { @apply pl-5 my-2 space-y-0.5 text-sm text-zinc-400; }
.markdown-dark .md-ul { list-style-type: disc; }
.markdown-dark .md-ol { list-style-type: decimal; }
.markdown-dark .md-hr { @apply border-zinc-800 my-4; }
.markdown-dark .md-table { @apply w-full text-xs border-collapse mb-3; }
.markdown-dark .md-table th { @apply px-2 py-1.5 text-left font-semibold text-zinc-300 border-b border-zinc-700 bg-zinc-800/50; }
.markdown-dark .md-table td { @apply px-2 py-1 text-zinc-400 border-b border-zinc-800; }
.markdown-dark strong { @apply text-zinc-200 font-semibold; }
.markdown-dark em { @apply text-zinc-300 italic; }

/* Markdown renderer styles - Light */
.markdown-light .md-h1 { @apply text-xl font-bold text-zinc-900 mt-4 mb-2; }
.markdown-light .md-h2 { @apply text-lg font-bold text-zinc-800 mt-3 mb-2; }
.markdown-light .md-h3 { @apply text-base font-semibold text-zinc-800 mt-3 mb-1; }
.markdown-light .md-h4 { @apply text-sm font-semibold text-zinc-700 mt-2 mb-1; }
.markdown-light .md-h5, .markdown-light .md-h6 { @apply text-xs font-semibold text-zinc-600 mt-2 mb-1; }
.markdown-light .md-p { @apply text-sm text-zinc-600 leading-relaxed mb-2; }
.markdown-light .md-inline-code { @apply px-1 py-0.5 rounded bg-zinc-100 text-blue-700 text-xs font-mono; }
.markdown-light .md-code-block { @apply p-3 rounded-lg bg-zinc-50 text-zinc-700 text-xs font-mono overflow-x-auto mb-3 border border-zinc-200; }
.markdown-light .md-link { @apply text-blue-600 underline hover:text-blue-500; }
.markdown-light .md-blockquote { @apply border-l-2 border-zinc-300 pl-3 py-1 my-2 text-sm text-zinc-500 italic; }
.markdown-light .md-ul, .markdown-light .md-ol { @apply pl-5 my-2 space-y-0.5 text-sm text-zinc-600; }
.markdown-light .md-ul { list-style-type: disc; }
.markdown-light .md-ol { list-style-type: decimal; }
.markdown-light .md-hr { @apply border-zinc-200 my-4; }
.markdown-light .md-table { @apply w-full text-xs border-collapse mb-3; }
.markdown-light .md-table th { @apply px-2 py-1.5 text-left font-semibold text-zinc-700 border-b border-zinc-200 bg-zinc-50; }
.markdown-light .md-table td { @apply px-2 py-1 text-zinc-600 border-b border-zinc-100; }
.markdown-light strong { @apply text-zinc-800 font-semibold; }
.markdown-light em { @apply text-zinc-700 italic; }
